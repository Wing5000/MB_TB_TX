<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moonbeam Contract Monitor</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Moonbeam Contract Monitor</h1>
            <div class="contract-address">0x86c66061a0e55d91c8bfa464fe84dc58f8733253</div>
            <div style="background: #1e293b; padding: 10px; border-radius: 8px; margin-top: 10px; font-size: 0.85rem; color: #94a3b8; text-align: left;">
                <strong style="color: #10b981;">‚úÖ LIVE MODE:</strong> U≈ºywa prawdziwych danych z Moonbeam RPC<br>
                üîó Endpoints: rpc.api.moonbeam.network, ankr.com, 1rpc.io i inne<br>
                üìä Pobiera wszystkie transakcje do kontraktu za pomocƒÖ eth_getLogs
            </div>
        </div>

        <div class="controls">
            <input type="text" id="addressSearch" placeholder="Szukaj adresu">
            <div class="auto-refresh">
                <span>Auto-refresh (60s):</span>
                <div class="toggle active" id="autoRefreshToggle">
                    <div class="toggle-slider"></div>
                </div>
            </div>
            <div class="status">
                <span id="statusText">Inicjalizacja...</span>
                <div id="loadingSpinner" class="spinner"></div>
            </div>
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-value" id="uniqueAddresses">-</div>
                <div class="metric-label">Unikalne adresy</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="totalTransactions">-</div>
                <div class="metric-label">≈ÅƒÖcznie transakcji</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="lastUpdate">-</div>
                <div class="metric-label">Ostatnia aktualizacja</div>
            </div>
        </div>

        <div id="errorContainer"></div>

        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th class="rank" id="rankHeader">
                            #
                            <span class="sort-indicator">‚Üì</span>
                        </th>
                        <th class="address" id="addressHeader">
                            Adres
                            <span class="sort-indicator"></span>
                        </th>
                        <th class="tx-count" id="txCountHeader">
                            Transakcje
                            <span class="sort-indicator"></span>
                        </th>
                    </tr>
                </thead>
                <tbody id="transactionTableBody">
                    <tr>
                        <td colspan="3" class="empty-state">≈Åadowanie danych...</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <button id="prevPage">‚Äπ Poprzednia</button>
            <span class="page-info" id="pageInfo">Strona 1</span>
            <button id="nextPage">Nastƒôpna ‚Ä∫</button>
        </div>
        <div id="dataSource" class="data-source"></div>
    </div>

    <script src="./moonbeam_contract_monitor.js" defer></script>
</body>
</html>